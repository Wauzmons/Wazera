<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
    xmlns:pe="http://primefaces.org/ui/extensions"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
    xmlns:s="http://java.sun.com/jsf/composite/components/shared"
	xmlns:tw="http://java.sun.com/jsf/composite/components/tasks"
    template="/templates/default.xhtml" >

    <ui:define name="center">

		<p:layout>
		
			<p:layoutUnit
				id="layoutUnitWest"
				position="west"
				gutter="0"
				size="360"
				styleClass="no-border hide-overflow"
				style="overflow: hidden;">

				<h:form id="documentMenuForm">

					Channels

				</h:form>

			</p:layoutUnit>

			<p:layoutUnit
				id="center"
				position="center"
				size="100%"
				styleClass="no-border gray-bg">

				<h:form id="mainForm">

					<p:outputPanel>

						<p:dataScroller value="#{chatController.messages}" var="msg" chunkSize="10">
					        <f:facet name="header">
					            Chat
					        </f:facet>
 
        					<h:panelGrid columns="2" style="width: 100%">
				                <h:panelGrid columns="2" cellpadding="5">
				                    <h:outputText value="#{msg.sender}" style="font-weight: bold"/>
				                    <h:outputText value="#{msg.text}"/>
				                </h:panelGrid>
					        </h:panelGrid>
					    </p:dataScroller>
					    
					    <p:inputText
					    	id="messageInput"
					    	value="#{chatController.inputMessage}"/>
					    
					    <p:commandButton
							id="buttonSend"
							value="Send"
							actionListener="#{chatController.sendMessage}"
							update="mainForm"/>

					</p:outputPanel>

				</h:form>
				
			</p:layoutUnit>

		</p:layout>
		
    </ui:define>
    
</ui:composition>